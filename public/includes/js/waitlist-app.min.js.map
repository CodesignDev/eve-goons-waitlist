{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./resources/js/index.js","webpack:///./resources/js/waitlist-app.js","webpack:///./resources/js/front.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","$","document","ready","submit","e","preventDefault","ajax","type","url","data","serialize","done","window","location","assign","fail","val","attr","responseText","focus","empty","append","tooltip","Notify","needsPermission","isSupported","noNotify","prepend","on","this","siblings","addClass","removeClass","find","first","stop","fadeIn","fadeOut","toggleClass","hasClass","length","stylesheet","insertAfter","alternateColour","cookie","change","theme_csspath","expires","path","URL","substr","lastIndexOf"],"mappings":"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","file":"waitlist-app.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","var _ = require('./waitlist-app');\r\nvar _ = require('./front');\r\nvar _ = require('./bird-alert.min');\r\n","/* ESI */\r\nfunction showInfo(targetID) {\r\n    $.ajax({\r\n      type: \"POST\",\r\n      url: \"/esi/ui/info/\"+targetID\r\n    });\r\n}\r\n\r\nfunction setWaypoint(systemID) {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: \"/esi/ui/waypoint/\"+systemID\r\n    });\r\n}\r\n\r\nfunction openMarket(targetID) {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: \"/esi/ui/market/\"+targetID\r\n    });\r\n}\r\n\r\n/* Pilot Search */\r\nfunction openSearch() {\r\n    document.getElementById(\"pilotSearchOverlay\").style.display = \"block\";\r\n    $(\".navbar\").attr(\"style\", \"display: none !important;\");\r\n    $(\"#pilotSearchName\").focus();\r\n}\r\n\r\nfunction closeSearch() {\r\n    document.getElementById(\"pilotSearchOverlay\").style.display = \"none\";\r\n    $(\".navbar\").removeAttr(\"style\");\r\n}\r\n\r\n//Action the search\r\n$(document).ready(function(){\r\n    $(\"#searchForm\").submit(function(e){\r\n        e.preventDefault();\r\n        $.ajax({\r\n            type: \"POST\",\r\n            url: \"/search\",\r\n            data: $('#searchForm').serialize()\r\n        }).done(function(data){\r\n            if(data.url) {\r\n                window.location.assign(data.url);\r\n            }\r\n        }).fail(function(data){\r\n            $(\"#pilotSearchName\").val('').attr(\"placeholder\", data.responseText).focus();\r\n            $(\"#searchButton\").empty().append('<i class=\"fa fa-search\"></i>');           \r\n        });\r\n    });\r\n});\r\n\r\n/* FC Banner */\r\nfunction hideBanner(_id) {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: '/internal-api/banner/:' + _id}).done(function() {\r\n            $('#topbanner').hide();\r\n    }).fail(function(err) {\r\n        console.log(err.responseText);\r\n    });\r\n}\r\n\r\n$(document).ready(function(){\r\n    $(\"#bannerMessage\").submit(function(e){\r\n        e.preventDefault();\r\n    })\r\n})\r\n\r\n/* Tooltips + Navbar */\r\n$(document).ready(function () {\r\n    $('[data-toggle=\"tooltip\"]').tooltip()\r\n})\r\n\r\nfunction sideNav() {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: \"/internal-api/account/navbar\",\r\n    }).fail(function(err){\r\n        console.log('Error updating side bar: ' + err);\r\n    });\r\n}\r\n\r\n/* Notifications */\r\nfunction enableNotifications() {\r\n    if (Notify.needsPermission && Notify.isSupported()) {\r\n       Notify.requestPermission(function(){\r\n           $( \"#noNotify\" ).hide();\r\n           if(payloadData !== null) \r\n               showNotification(payloadData);\r\n       }, function(){\r\n           console.warn('Permission has been denied by the user');\r\n       });\r\n   } \r\n}\r\n\r\n//Inform user that they don't get notifications.\r\n$(document).ready(function () {\r\n    if (Notify.needsPermission && Notify.isSupported()) {\r\n        var noNotify = '<div role=\"alert\" id=\"noNotify\" class=\"alert alert-primary global-banner-inactive\">'\r\n        noNotify += '<i class=\"fas fa-bell-slash\"></i> Notifications disabled: this means you may miss your invite. Click <span style=\"text-decoration:underline\" onclick=\"enableNotifications()\">HERE</span> to enable them.'\r\n      noNotify += '</div>'\r\n        $( \"#alertarea\" ).prepend( noNotify );\r\n    }\r\n   \r\n})\r\n\r\nfunction showNotification(payload) {\r\n    var cNotification = new Notify(payload.data.appName, {\r\n        body: payload.data.message,\r\n        icon: payload.data.imgUrl,\r\n        tag: payload.data.target.id,\r\n        timeout: 30,\r\n        notifyClick: cClick,\r\n        notifyShow: cShow\r\n    });\r\n\r\n    cNotification.show();\r\n        \r\n    function cShow() {\r\n        var audio = new Audio(payload.data.sound);\r\n        audio.play();\r\n    }\r\n    function cClick() {\r\n        window.location.assign(payload.data.comms.url);\r\n    }\r\n}\r\n\r\n/*  WAITLIST FC MANAGE\r\n* \r\n* > Update fleet info (FC, Backseat, Comms, Type)\r\n* > Waitlist functions (Invites, Removals, Alarms)\r\n* > Waitlist Admin (Comp Window, Clear all, Close)\r\n* > Waitlist Tables (Pilots in Fleet)\r\n*/\r\nfunction setFC(fleetID) {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: '/commander/'+  fleetID +'/update/commander'\r\n    }).done(function() {\r\n        pollFleetInfo(fleetID)\r\n    }).fail(function(err) {\r\n        console.log(\"Error updating the backseat: \", err);\r\n    })\r\n}\r\n\r\nfunction setBackseat(fleetID) {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: '/commander/'+ fleetID +'/update/backseat'\r\n    }).done(function() {\r\n        pollFleetInfo(fleetID);\r\n    }).fail(function(err) {\r\n        console.log(\"Error updating the backseat: \", err);\r\n    })\r\n}\r\n\r\nfunction setCommsChannel(fleetID, commsUrl, commsName) {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: '/commander/'+ fleetID +'/update/comms',\r\n        data: {\r\n            name: commsName,\r\n            url: commsUrl\r\n        }\r\n    }).done(function() {\r\n        pollFleetInfo(fleetID)\r\n    }).fail(function(err) {\r\n        console.log(\"Error updating comms information: \", err);\r\n    });\r\n}\r\n\r\nfunction setFleetStatus(fleetID, fleetStatus) {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: '/commander/'+ fleetID +'/update/status',\r\n        data: {\r\n            status: fleetStatus\r\n        }\r\n    }).done(function() {\r\n        pollFleetInfo(fleetID)\r\n    }).fail(function(err) {\r\n        console.log(\"Error updating fleet status: \", err);\r\n    });\r\n}\r\n\r\nfunction setFleetType(fleetID, fleetType) {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: '/commander/'+ fleetID +'/update/type',\r\n        data: {\r\n            type: fleetType\r\n        }\r\n    }).done(function() {\r\n        pollFleetInfo(fleetID)\r\n    }).fail(function(err) {\r\n        console.log(\"Error updating fleet type: \", err);\r\n    });\r\n}\r\n\r\nfunction pollFleetInfo(fleetID){\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: '/commander/'+ fleetID +'/update/info',\r\n        success: function(payload){\r\n            $(\"#fcBoss\").text(payload.fc.name).attr(\"onclick\", \"showInfo(\" + payload.fc.characterID + \")\");\r\n            $(\"#fcBackseat\").text(payload.backseat.name).attr(\"onclick\", \"showInfo(\" + payload.backseat.characterID + \")\")\r\n            $(\"#status\").text(payload.status);\r\n            $(\"#type\").text(payload.type);\r\n            $(\"#comms\").text(payload.comms.name).attr(\"href\", payload.comms.url);\r\n            $(\"#fleetSystem\").text(payload.location.name).attr(\"onclick\", \"setWaypoint(\" + payload.location.systemID + \")\");\r\n        }\r\n    }).fail(function(err){\r\n        console.log(\"Failed to update the fleet info panel\");\r\n    })\r\n}\r\n/* Waitlist functions */\r\nfunction invitePilot(characterID, fleetID) {\r\n    var count = Number($(\"#fleetWaitlistCount\").text());\r\n\r\n    $(\"#row-\"+characterID).removeClass().addClass(\"invite-pending\");\r\n\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: \"/commander/admin/invite/\" + characterID + \"/\" + fleetID\r\n    }).done(function() {\r\n        $(\"#row-\"+characterID).removeClass().addClass(\"invite-sent\");\r\n        $(\"#fleetWaitlistCount\").text(Number($(\"#fleetWaitlistCount\").text()) - 1);\r\n    }).fail(function(text) {\r\n        $(\"#row-\"+characterID).removeClass().addClass(\"invite-failed\");\r\n        $(\"#\" + characterID + \"-status\").text(text.responseText);\r\n    });\r\n}\r\n\r\nfunction removePilot(characterID) {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: \"/commander/admin/remove/\" + characterID\r\n    }).done(function(){\r\n        //Colour and remove row. Then subtract the waitlist count by 1\r\n        $(\"#row-\"+characterID).removeClass().addClass(\"invite-failed\");\r\n        setTimeout(function() {\r\n            $(\"#fleetWaitlistCount\").text(Number($(\"#fleetWaitlistCount\").text()) - 1);\r\n            $(\"#row-\"+characterID).remove();\r\n        }, 5000)\r\n    });\r\n\r\n    \r\n}\r\n\r\nfunction alarmUser(targetid, fleetid) {\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: \"/commander/admin/alarm/\" + targetid + \"/\" + fleetid,\r\n        datatype: \"HTML\",\r\n        success: function(data) {\r\n            setTimeout(function () {\r\n                $(\"#row-\"+targetid).removeClass().addClass(\"invite-pending\");\r\n                }, 0);\r\n                setTimeout(function () {\r\n                $(\"#row-\"+targetid).removeClass();\r\n                }, 2500);\t\r\n        }\r\n    }).fail(function(err) {\r\n        console.log(\"Faied to alarm user: \", err);\r\n    });\r\n}\r\n\r\n\r\n/* Waitlist Tables */\r\nfunction pollPilotsInFleet(fleetID){\r\n    $.ajax({\r\n        type: \"GET\",\r\n        url: \"/internal-api/fleet/\"+ fleetID +\"/members\"\r\n    }).done(function(data){\r\n        $(\"#fleetPilotsTable\").empty();\r\n        for(var i = 0; i < data.length; i++){\r\n            var html = \"<tr id='row-\"+data[i].pilot.characterID+\"'>\";\r\n                    html +=\"<td>\"\r\n                        html += \"<img src='https://image.eveonline.com/Character/\"+data[i].pilot.characterID+\"_64.jpg' style='height:75%' alt='avatar'> \"\r\n                    html += \"</td>\";\r\n                    html += \"<td>\";\r\n                        html += \"<a href='javascript:void(0);' onclick='showInfo(\"+data[i].pilot.characterID+\")'>\"+data[i].pilot.name+\"</a>\";\r\n                        //TODO: Display alt if info is there.  \r\n                    html += \"</td>\";\r\n                    html += \"<td>\";\r\n                        html += \"<div class='dropdown'>\";\r\n                            html += \"<button class='btn btn-info btn-sm dropdown-toggle' data-toggle='dropdown' aria-expanded='false' type='button'><i class='fas fa-caret-circle-down' style='margin-right:-50%'></i></button>\";\r\n                            html += \"<div class='dropdown-menu' role='menu'>\";\r\n                                html += \"<a class='dropdown-item' href='/commander/\"+data[i].pilot.name.replace(' ','-')+\"/profile'>View Pilot Profile</a>\";\r\n                                html += \"<a class='dropdown-item' href='/commander/\"+data[i].pilot.name.replace(' ','-')+\"/skills'>View Pilot Skills</a>\";\r\n                                //TODO: XMPP if info is there\r\n                            html += \"</div>\";\r\n                        html += \"</div>\";\r\n                    html += \"</td>\";\r\n                    html += \"<td>\";\r\n                        html += \"<button class='btn btn-danger btn-sm disabled' onclick='removePilot()'><i class='fa fa-minus'></i></button>\";\r\n                    html += \"</td>\";\r\n                    html += \"<td>\";\r\n                        html += \"<img src='https://image.eveonline.com/Render/\"+data[i].activeShip+\"_32.png' alt='Active Ship'>\";\r\n                    html += \"</td>\";\r\n                    html += \"<td>\";\r\n                        //there ships here\r\n                    html += \"</td>\";\r\n                    html += \"<td>\";\r\n                        html += \"<a href='javascript:void(0);' onclick='setWaypoint(\"+data[i].system.systemID+\")'>\"+data[i].system.name+\"</a></td>\";\r\n                    html += \"</td>\";\r\n                    html += \"<td>\"+data[i].joined+\"</td>\";\r\n                html += \"</tr>\";\r\n\r\n            $(\"#fleetPilotsTable\").prepend(html);\r\n            $(\"#numMembers\").text(data.length);\r\n        }\r\n    }).fail(function(err){\r\n        console.log(err);\r\n    })\r\n}\r\n\r\n/* Public Waitlist AJAX\r\n* \r\n* > Update Queue (Displays waitlist main + number of people on wl)\r\n* > Get Fleets (Lists Fleets, Removals, Alarms)\r\n*/\r\nfunction updateQueue(){\r\n    $.ajax({\r\n        type: \"GET\",\r\n        url: \"/internal-api/waitlist/get-pilot-position\"\r\n    }).done(function(data){\r\n        console.log(data)\r\n        if(data.position !== null){\r\n            $(\"#queueInfo\").removeClass(\"hide\");\r\n            $(\"#queueInfoYourPos\").text(data.position + \" out of \" + data.count);\r\n            $(\"#queueInfoYourMain\").text(\"### TODO\");\r\n        } else {\r\n            $(\"#queueInfo\").addClass(\"hide\");\r\n        }\r\n    }).fail(function (err){\r\n        console.log(err);\r\n    });\r\n}\r\n\r\n\r\nfunction getFleetList(){\r\n    $.ajax({\r\n        type: \"POST\",\r\n        url: \"/internal-api/fleets\"\r\n    }).done(function(data){\r\n        $(\"#fleetInfoCards\").empty();\r\n        $(\"#waitlistCards\").addClass(\"hide\");\r\n        if(data.length > 0){\r\n            $(\"#noFleetBanner\").addClass(\"hide\");\r\n            $(\"#waitlistCards\").removeClass(\"hide\");\r\n\r\n            for(var i = 0; i < data.length; i++){\r\n                var html = '<div id=\"fleetInfoCards\" class=\"col-lg-6 col-md-12\">';       \r\n                    html += '<div class=\"statistic-block block\">';\r\n                    //Title\r\n                    html += '<div class=\"title\">';\r\n                        html += '<strong>Fleet Info</strong>';\r\n                    html += '</div>';\r\n\r\n                        //Table\r\n                        html += '<table class=\"table table-striped table-sm noselect\">';\r\n                            html += '<tbody>';\r\n                                html += '<tr>';\r\n                                    html += '<td  class=\"tw60per\">Fleet Commander:</td>';\r\n                                    html += '<td><a href=\"javascript:void(0);\" onclick=\"showInfo(' + data[i].fc.characterID + ')\">' + data[i].fc.name + '</a></td>';\r\n                                html += '</tr>';\r\n                                html += '<tr>';\r\n                                    html += '<td>Secondary Fleet Commander:</td>';\r\n                                    html += '<td><a href=\"javascript:void(0);\" onclick=\"showInfo(' + data[i].backseat.characterID + ')\">' + data[i].backseat.name + '</a></td>';\r\n                                html += '</tr>';\r\n                                html += '<tr>';\r\n                                    html += '<td>Fleet Type:</td>';\r\n                                    html += '<td>' + data[i].type + '</td>';\r\n                                html += '</tr>';\r\n                                html += '<tr>';\r\n                                    html += '<td>Fleet Status:</td>';\r\n                                    html += '<td>' + data[i].status + '</td>';\r\n                                html += '</tr>';\r\n                                html += '<tr>';\r\n                                    html += '<td>Fleet Size:</td>';\r\n                                    html += '<td>' + data[i].size + '</td>';\r\n                                html += '</tr>';\r\n                                html += '<tr>';\r\n                                    html += '<td>Fleet Location:</td>';\r\n                                    html += '<td><a href=\"javascript:void(0)\" onclick=\"setWaypoint(' +  data[i].location.systemID + ')\">' + data[i].location.name + '</a></td>';\r\n                                html += '</tr>';\r\n                                html += '<tr>';\r\n                                    html += '<td>Fleet Comms:</td>';\r\n                                    html += '<td><a href=\"' + data[i].comms.url + '\">' + data[i].comms.name + '</a></td>';\r\n                                html += '</tr>';\r\n                            html += '</tbody>';\r\n                        html += '</table>';\r\n                    html += '</div>';\r\n                $(\"#fleetInfoCards\").append(html)\r\n            }\r\n        } \r\n        else\r\n        {\r\n            $(\"#noFleetBanner\").removeClass(\"hide\");\r\n        }\r\n    }).fail(function(err) {\r\n        console.log(err);\r\n    });\r\n}","$(function () {\r\n\r\n    // ------------------------------------------------------- //\r\n    // Transition Placeholders\r\n    // ------------------------------------------------------ //\r\n    $('input.input-material').on('focus', function () {\r\n        $(this).siblings('.label-material').addClass('active');\r\n    });\r\n\r\n    $('input.input-material').on('blur', function () {\r\n        $(this).siblings('.label-material').removeClass('active');\r\n\r\n        if ($(this).val() !== '') {\r\n            $(this).siblings('.label-material').addClass('active');\r\n        } else {\r\n            $(this).siblings('.label-material').removeClass('active');\r\n        }\r\n    });\r\n\r\n    // ------------------------------------------------------- //\r\n    // Adding fade effect to dropdowns\r\n    // ------------------------------------------------------ //\r\n    $('.dropdown').on('show.bs.dropdown', function () {\r\n        $(this).find('.dropdown-menu').first().stop(true, true).fadeIn(100).addClass('active');\r\n    });\r\n    $('.dropdown').on('hide.bs.dropdown', function () {\r\n        $(this).find('.dropdown-menu').first().stop(true, true).fadeOut(100).removeClass('active');\r\n    });\r\n\r\n\r\n    // ------------------------------------------------------- //\r\n    // Search Popup\r\n    // ------------------------------------------------------ //\r\n    $('.search-open').on('click', function (e) {\r\n        e.preventDefault();\r\n        $('.search-panel').fadeIn(100);\r\n    })\r\n    $('.search-panel .close-btn').on('click', function () {\r\n        $('.search-panel').fadeOut(100);\r\n    });\r\n\r\n\r\n    // ------------------------------------------------------- //\r\n    // Sidebar Functionality\r\n    // ------------------------------------------------------ //\r\n    $('.sidebar-toggle').on('click', function () {\r\n        $(this).toggleClass('active');\r\n\r\n        $('#sidebar').toggleClass('shrinked');\r\n        $('.page-content').toggleClass('active');\r\n\r\n        if ($('.sidebar-toggle').hasClass('active')) {\r\n            $('.navbar-brand .brand-sm').addClass('visible');\r\n            $('.navbar-brand .brand-big').removeClass('visible');\r\n            $(this).find('i').attr('class', 'fa fa-long-arrow-right');\r\n        } else {\r\n            $('.navbar-brand .brand-sm').removeClass('visible');\r\n            $('.navbar-brand .brand-big').addClass('visible');\r\n            $(this).find('i').attr('class', 'fa fa-long-arrow-left');\r\n        }\r\n    });\r\n\r\n\r\n    // ------------------------------------------------------ //\r\n    // For demo purposes, can be deleted\r\n    // ------------------------------------------------------ //\r\n\r\n    if ($('#style-switch').length > 0) {\r\n        var stylesheet = $('link#theme-stylesheet');\r\n        $(\"<link id='new-stylesheet' rel='stylesheet'>\").insertAfter(stylesheet);\r\n        var alternateColour = $('link#new-stylesheet');\r\n\r\n        if ($.cookie(\"theme_csspath\")) {\r\n            alternateColour.attr(\"href\", $.cookie(\"theme_csspath\"));\r\n        }\r\n\r\n        $(\"#colour\").change(function () {\r\n\r\n            if ($(this).val() !== '') {\r\n\r\n                var theme_csspath = 'css/style.' + $(this).val() + '.css';\r\n\r\n                alternateColour.attr(\"href\", theme_csspath);\r\n\r\n                $.cookie(\"theme_csspath\", theme_csspath, { expires: 365, path: document.URL.substr(0, document.URL.lastIndexOf('/')) });\r\n\r\n            }\r\n\r\n            return false;\r\n        });\r\n    }\r\n\r\n});\r\n"],"sourceRoot":""}